# CustomerManagementAPI
### How to build and run the application.
# CustomerManagementAPI

A Spring Boot RESTful API for managing customer data, including CRUD operations and dynamic membership tier classification based on `annualSpend` and `lastPurchaseDate`.

---

## üöÄ How to Build and Run the Application

### Prerequisites
```
- Java 21
- Maven
```

### Using Maven

```
Build the project
üìçmvn clean install

Run the application
üìçmvn spring-boot:run
```
### Server Address
```
The API will be available at:
üìç http://localhost:8080
```
### Sample requests to test each endpoint.


# 1. Create a Customer (POST /customers)
curl -X POST http://localhost:8080/customers \
-H "Content-Type: application/json" \
-d '{
"name": "Alice",
"email": "alice@example.com",
"annualSpend": 5000,
"lastPurchaseDate": "2024-12-01T10:00:00"
}'

# 2. Get Customer by ID (GET /customers/{id})
curl http://localhost:8080/customers/{id}

# 3. Get Customer by Name (GET /customers?name=Alice)
curl "http://localhost:8080/customers?name=Alice"

# 4. Get Customer by Email (GET /customers?email=alice@example.com)
curl "http://localhost:8080/customers?email=alice@example.com"

# 5. Update Customer (PUT /customers/{id})
curl -X PUT http://localhost:8080/customers/{id} \
-H "Content-Type: application/json" \
-d '{
"name": "Alice Updated",
"email": "alice.updated@example.com",
"annualSpend": 8000,
"lastPurchaseDate": "2025-01-15T15:30:00"
}'

# 6. Delete Customer (DELETE /customers/{id})
curl -X DELETE http://localhost:8080/customers/{id}'

# Note:
# Replace {id} with actual customer UUID
# Make sure your API server is running on localhost:8080
# Dates must be in ISO 8601 format: YYYY-MM-DDTHH:mm:ss


### ----------Instructions for accessing the H2 database console (if needed).



1. Start your Spring Boot application.

2. Open your web browser and navigate to: 
   [http://localhost:8080/h2-console](http://localhost:8080/h2-console)

3. Login using the following credentials:

    - JDBC URL: `jdbc:h2:mem:testdb`
    - Username: `sa`
    - Password: " "

4. Verify that the JDBC URL matches your application configuration.

---

### Make sure your `application.properties` (or `application.yml`) contains:

```properties
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=




1. Start your Spring Boot application.

2. Open your web browser and navigate to:
   [http://localhost:8080/h2-console](http://localhost:8080/h2-console)

3. Login using the following credentials:

    - JDBC URL:`jdbc:h2:mem:testdb`
    - Username: `sa`
    - Password: 

4. Verify that the JDBC URL matches your application configuration.

---

### Make sure your `application.properties` (or `application.yml`) contains:

```properties
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.username=sa
spring.datasource.password=

### Any assumptions made in your implementation.


- Each customer has a   unique email address.
- The customer ID is a UUID automatically generated by the system.
- Customer tier is calculated based on:
  - Platinum: Annual spend ‚â• 10,000 and last purchase within the last 6 months.
  - Gold: Annual spend ‚â• 1,000 and last purchase within the last 12 months.
  - Silver: All other cases.
- Annual spend is stored as a `BigDecimal` to preserve precision.
- Last purchase date is a `LocalDateTime` in ISO 8601 format (`YYYY-MM-DDTHH:mm:ss`).
- Input validation is enforced using `@Valid` annotations on the request model.
- No authentication or authorization is implemented ‚Äî the API is open for simplicity.
- The application uses an **in-memory H2 database** for demo/testing purposes.
- The H2 console is enabled and accessible at `/h2-console` during development only.
- Spring Boot is used with default configurations unless specified otherwise.

‚Ä¢
### API Documentation
After running the app, access Swagger UI:
üìö http://localhost:8080/swagger-ui.html

OpenAPI spec (openapi.yaml) available in this Link: https://github.com/MVSAI2015/CustomerManagementAPI/blob/main/api-spec.yaml)